

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Band Unfolding Theory &#8212; easyunfold</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'theory';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="References" href="references.html" />
    <link rel="prev" title="Si supercell using CASTEP" href="examples/example_si211_castep.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.svg" class="logo__image only-light" alt="easyunfold - Home"/>
    <script>document.write(`<img src="_static/logo.svg" class="logo__image only-dark" alt="easyunfold - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/SMTG-Bham/easyunfold" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/easyunfold/" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><img src="https://img.shields.io/pypi/v/easyunfold" class="icon-link-image" alt="PyPI"/></a>
        </li>
</ul></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    easyunfold Documentation
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="examples.html">Examples</a><input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="examples/example_si222.html">Silicon with a displaced atom</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/example_mgo.html">MgO with atomic projections, effective masses &amp; defects</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/example_nabis2.html">Disordered NaBiS<sub>2</sub> with atomic/orbital projections &amp; DOS plotting</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/example_si211_castep.html">Si supercell using CASTEP</a></li>
</ul>
</li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Band Unfolding Theory</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">CLI Reference</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="apidocs/index.html">API Reference</a><input checked class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="apidocs/easyunfold/easyunfold.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">easyunfold</span></code></a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="apidocs/easyunfold/easyunfold.vasp_constant.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">easyunfold.vasp_constant</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="apidocs/easyunfold/easyunfold.wavefun.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">easyunfold.wavefun</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="apidocs/easyunfold/easyunfold.plotting.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">easyunfold.plotting</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="apidocs/easyunfold/easyunfold.effective_mass.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">easyunfold.effective_mass</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="apidocs/easyunfold/easyunfold.wavecar.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">easyunfold.wavecar</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="apidocs/easyunfold/easyunfold.procar.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">easyunfold.procar</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="apidocs/easyunfold/easyunfold.cli.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">easyunfold.cli</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="apidocs/easyunfold/easyunfold.unfold.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">easyunfold.unfold</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="apidocs/easyunfold/easyunfold.utils.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">easyunfold.utils</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/SMTG-Bham/easyunfold" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/theory.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Band Unfolding Theory</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#symmetry-considerations">Symmetry Considerations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cell-and-transformation-matrix-convention">Cell and Transformation Matrix convention</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="band-unfolding-theory">
<h1>Band Unfolding Theory<a class="headerlink" href="#band-unfolding-theory" title="Permalink to this heading">#</a></h1>
<p>The theoretical background of the methodology used in this package is available in the literature,<a class="footnote-reference brackets" href="#id4" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a><a class="footnote-reference brackets" href="#id5" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> and also discussed in the <a class="reference external" href="https://doi.org/10.21105/joss.05974">JOSS paper</a>.
Here, only a summary is given for brevity.</p>
<p>Notation: <span class="math notranslate nohighlight">\(\vec{K}\)</span> is the <em>k</em>-point of the supercell and <span class="math notranslate nohighlight">\(\vec{k}\)</span> is that of the primitive cell.</p>
<p>Each <span class="math notranslate nohighlight">\(k\)</span> in the primitive cell can be mapped to that in the supercell where:</p>
<div class="math notranslate nohighlight">
\[
\vec{K} = \vec{k} - \vec{G}_0.
\]</div>
<p>with <span class="math notranslate nohighlight">\(\vec{G}_0\)</span> being a reciprocal lattice vector.
Naturally, each <span class="math notranslate nohighlight">\(\vec{K}\)</span> in the supercell can be unfolded into a set of <span class="math notranslate nohighlight">\(\vec{k}_i\)</span>:</p>
<div class="math notranslate nohighlight">
\[
\vec{k_i} = \vec{K} + \vec{G}_i\  ; \  i=1,...,N_{\vec{K}}
\]</div>
<p>The key implication is that for a given <span class="math notranslate nohighlight">\(\vec{k}_i\)</span>, there is a unique <span class="math notranslate nohighlight">\(\vec{K}\)</span> that it folds to.</p>
<p>The goal of the band folding procedure is to obtain the <span class="math notranslate nohighlight">\(E(\vec{k})\)</span> from the complicated <span class="math notranslate nohighlight">\(E(\vec{K})\)</span>,
where <span class="math notranslate nohighlight">\(E(\vec{k})\)</span> is the energy/eigenvalue of the Kohn-Sham electronic states at <span class="math notranslate nohighlight">\(\vec{k}\)</span> in the Brillouin zone of the primitive cell.
This can be achieved by projecting <span class="math notranslate nohighlight">\(\ket{\vec{K}m}\)</span> on all of the primitive cell Bloch states
<span class="math notranslate nohighlight">\(\ket{\vec{k}_i n}\)</span> of a fixed <span class="math notranslate nohighlight">\(\vec{k}_i\)</span>, where <span class="math notranslate nohighlight">\(m\)</span> and <span class="math notranslate nohighlight">\(n\)</span> are band indices in the supercell and
primitive cell respectively, and compute the spectral weight:</p>
<div class="math notranslate nohighlight">
\[
P_{\vec{K}m}(\vec{k}_i) = \sum_n |\braket{\vec{K}m |\vec{k}_i n}|^2.
\]</div>
<p>where <span class="math notranslate nohighlight">\(P\)</span> represents the probability of finding a set of primitive cell states <span class="math notranslate nohighlight">\(\ket{\vec{k}_i n}\)</span>
contributing to the supercell state <span class="math notranslate nohighlight">\(\ket{\vec{K}m}\)</span>, or the amount of Bloch character <span class="math notranslate nohighlight">\(\vec{k}_i\)</span>
preserved in <span class="math notranslate nohighlight">\(\ket{\vec{K}m}\)</span> at the same energy.</p>
<p>Based on this, one can further derive the spectral function <span class="math notranslate nohighlight">\(A(\vec{k}_i, E)\)</span>, which represents the probability of
an electronic state with energy <span class="math notranslate nohighlight">\(E\)</span> at <span class="math notranslate nohighlight">\(\vec{k}_i\)</span> (i.e. a ‘band structure density’):</p>
<div class="math notranslate nohighlight">
\[
A(\vec{k}_i, E) = \sum_m P_{\vec{K}m}(\vec{k}_i)\delta(E_m - E).
\]</div>
<p>In practice, the <span class="math notranslate nohighlight">\(\delta\)</span> function is replaced with a Gaussian or Lorentzian function to smear the contribution over a discretised energy grid.</p>
<p>Hence, the central quantity to be calculated is <span class="math notranslate nohighlight">\(P_{\vec{K}m}(\vec{k}_i)\)</span>.
For a plane-wave basis, it can be shown that (equation 15 in Popescu et al.<a class="footnote-reference brackets" href="#id5" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>):</p>
<div class="math notranslate nohighlight">
\[
P_{\vec{K}m}(\vec{k}_j) = \sum_{\vec{g}} |C_{\vec{Km}}(\vec{g} + \vec{G_j})|^2,
\]</div>
<p>where <span class="math notranslate nohighlight">\(C_{\vec{Km}}(\vec{g} + \vec{G_j})\)</span> are the plane-wave coefficients of the supercell.
Because the supercell is commensurate with the primitive cell, the vectors <span class="math notranslate nohighlight">\(\vec{g}\)</span> are included in
the basis set of the supercell calculations. Since <span class="math notranslate nohighlight">\(\vec{G_{j}}\)</span> is the reciprocal lattice vector that
wraps <span class="math notranslate nohighlight">\(\vec{k}\)</span> to <span class="math notranslate nohighlight">\(\vec{K}\)</span>, all plane-wave coefficients that are needed to obtain <span class="math notranslate nohighlight">\(P_{\vec{K}_m}(\vec
{k}_j)\)</span> are present in the wavefunction output of the supercell calculation.</p>
<section id="symmetry-considerations">
<h2>Symmetry Considerations<a class="headerlink" href="#symmetry-considerations" title="Permalink to this heading">#</a></h2>
<p>The set of primitive cell <em>k</em>-points <span class="math notranslate nohighlight">\(\vec{k}_i\)</span> are located on a given path in the Brillouin zone,
going through multiple high symmetry points.
The selection of the path is not unique, but often depends on the space group of the primitive cell.
Only a limited set of paths are needed because of the presence of point group symmetry, as
symmetrically equivalent <span class="math notranslate nohighlight">\(\vec{k}\)</span> correspond to the same eigenstates.</p>
<p>However, the supercell to be unfolded does not necessarily contain the same point group symmetry due to
imperfections (presence of defects, strain, distortions, disorder). The broken symmetry means that
previously equivalent <span class="math notranslate nohighlight">\(\vec{k}\)</span> are no longer equivalent.</p>
<p>We address this by first expanding each <span class="math notranslate nohighlight">\(\vec{k}\)</span> based on the symmetry operations of the primitive
cell, followed by a reduction using the symmetry of the supercell. The spectral weight at each <span class="math notranslate nohighlight">\(\vec{k}\)</span>
is then a weighted combination of that set of <span class="math notranslate nohighlight">\(\vec{k_s^\prime}\)</span> points that are inequivalent under the
symmetry of the supercell.</p>
</section>
<section id="cell-and-transformation-matrix-convention">
<h2>Cell and Transformation Matrix convention<a class="headerlink" href="#cell-and-transformation-matrix-convention" title="Permalink to this heading">#</a></h2>
<p>The cell matrix may be consisted of column or row lattice vectors. In this package we use the <strong>row vector</strong>
convention as commonly found in many post-processing tools and DFT codes. The cell matrix is defined as:</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\mathbf{C} = \begin{pmatrix}
x_a &amp; y_a &amp; z_a \\
x_b &amp; y_b &amp; z_b \\
x_c &amp; y_c &amp; z_c
\end{pmatrix}
\end{split}\]</div>
<p>where <span class="math notranslate nohighlight">\(x_a\)</span>, <span class="math notranslate nohighlight">\(y_a\)</span>, <span class="math notranslate nohighlight">\(z_a\)</span> are components of the lattice vector <span class="math notranslate nohighlight">\(\mathbf{a}\)</span>.</p>
<p>The cell matrix of the supercell <span class="math notranslate nohighlight">\(\mathbf{C_s}\)</span> is obtained by (left) multiplying the original unit cell <span class="math notranslate nohighlight">\(\mathbf{C_u}\)</span> by the transformation matrix <span class="math notranslate nohighlight">\(\mathbf{M}\)</span>:</p>
<div class="math notranslate nohighlight">
\[
\mathbf{C_{s}} = \mathbf{M} \, \mathbf{C_u}
\]</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sometimes the cell matrix is defined by <strong>column</strong> vectors of the lattice parameters, e.g. <span class="math notranslate nohighlight">\(\mathbf{C_u^c} = \mathbf{C_u^T}\)</span>, and the relationship becomes:
$<span class="math notranslate nohighlight">\(
\mathbf{C_u^c} = \mathbf{C_u^T} \, \mathbf{M^T}
\)</span>$</p>
<p>Hence, when the column vector convention is used, the transformation matrix is the <strong>transpose</strong> of that used by the row convention.</p>
<p>One example of code using the column vector convention is <a class="reference external" href="https://phonopy.github.io/phonopy/setting-tags.html#dim">Phonopy</a>.</p>
</div>
<hr class="footnotes docutils" />
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id4" role="note">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Popescu, V.; Zunger, A. Effective Band Structure of Random Alloys. Phys. Rev. Lett. 2010, 104 (23), 236403. <a class="reference external" href="https://doi.org/10.1103/PhysRevLett.104.236403">https://doi.org/10.1103/PhysRevLett.104.236403</a>.</p>
</aside>
<aside class="footnote brackets" id="id5" role="note">
<span class="label"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></span>
<span class="backrefs">(<a role="doc-backlink" href="#id2">1</a>,<a role="doc-backlink" href="#id3">2</a>)</span>
<p>Popescu, V.; Zunger, A. Extracting <span class="math notranslate nohighlight">\(E\)</span> versus <span class="math notranslate nohighlight">\(\vec{k}\)</span> Effective Band Structure from Supercell Calculations on Alloys and Impurities. Phys. Rev. B 2012, 85 (8), 085201. <a class="reference external" href="https://doi.org/10.1103/PhysRevB.85.085201">https://doi.org/10.1103/PhysRevB.85.085201</a>.</p>
</aside>
</aside>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="examples/example_si211_castep.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Si supercell using CASTEP</p>
      </div>
    </a>
    <a class="right-next"
       href="references.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">References</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#symmetry-considerations">Symmetry Considerations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cell-and-transformation-matrix-convention">Cell and Transformation Matrix convention</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Bonan Zhu, Seán Kavanagh
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023, Bonan Zhu.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>