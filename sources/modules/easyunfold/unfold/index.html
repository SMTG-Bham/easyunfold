
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.2.16">
    
    
      
        <title>easyunfold.unfold - easyunfold Docs</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.1c3799f8.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.cc9b2e1e.min.css">
        
          
          
          <meta name="theme-color" content="#ab47bd">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="purple" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="easyunfold Docs" class="md-header__button md-logo" aria-label="easyunfold Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            easyunfold Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              easyunfold.unfold
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/SMTG-UCL/easyunfold" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="easyunfold Docs" class="md-nav__button md-logo" aria-label="easyunfold Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    easyunfold Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/SMTG-UCL/easyunfold" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../guide/" class="md-nav__link">
        Guide
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../cli/" class="md-nav__link">
        CLI Commands
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          API Docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="API Docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          API Docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../effective_mass/" class="md-nav__link">
        easyunfold.effective_mass
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../plotting/" class="md-nav__link">
        easyunfold.plotting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../procar/" class="md-nav__link">
        easyunfold.procar
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          easyunfold.unfold
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        easyunfold.unfold
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#unfoldkset" class="md-nav__link">
    UnfoldKSet
  </a>
  
    <nav class="md-nav" aria-label="UnfoldKSet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#is_calculated" class="md-nav__link">
    .is_calculated
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#has_averaged_spectral_weights" class="md-nav__link">
    .has_averaged_spectral_weights
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from_atoms" class="md-nav__link">
    .from_atoms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expand_pc_kpoints" class="md-nav__link">
    .expand_pc_kpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nsymm_orig" class="md-nav__link">
    .nsymm_orig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nsymm_expand" class="md-nav__link">
    .nsymm_expand
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nkpts_orig" class="md-nav__link">
    .nkpts_orig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nkpts_expand" class="md-nav__link">
    .nkpts_expand
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate_sc_kpoints" class="md-nav__link">
    .generate_sc_kpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write_sc_kpoints" class="md-nav__link">
    .write_sc_kpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write_pc_kpoints" class="md-nav__link">
    .write_pc_kpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load_procar" class="md-nav__link">
    .load_procar
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#procars" class="md-nav__link">
    .procars
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#procar_kmaps" class="md-nav__link">
    .procar_kmaps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_band_weight_sets" class="md-nav__link">
    .get_band_weight_sets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_spectral_function" class="md-nav__link">
    .get_spectral_function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_spectral_weights" class="md-nav__link">
    .get_spectral_weights
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#as_dict" class="md-nav__link">
    .as_dict
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_kpoint_distances" class="md-nav__link">
    .get_kpoint_distances
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unfold" class="md-nav__link">
    Unfold
  </a>
  
    <nav class="md-nav" aria-label="Unfold">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_vbm_cbm" class="md-nav__link">
    .get_vbm_cbm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_ovlap_g" class="md-nav__link">
    .get_ovlap_G
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find_k_index" class="md-nav__link">
    .find_K_index
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k2k_map" class="md-nav__link">
    .k2K_map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_weight_k" class="md-nav__link">
    .spectral_weight_k
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_weight" class="md-nav__link">
    .spectral_weight
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_function" class="md-nav__link">
    .spectral_function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_symmetry_dataset" class="md-nav__link">
    get_symmetry_dataset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find_k_from_k" class="md-nav__link">
    find_K_from_k
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rotate_kpt" class="md-nav__link">
    rotate_kpt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expand_k_by_symmetry" class="md-nav__link">
    expand_K_by_symmetry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lorentzsmearing" class="md-nav__link">
    LorentzSmearing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gaussiansmearing" class="md-nav__link">
    GaussianSmearing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removeduplicatekpoints" class="md-nav__link">
    removeDuplicateKpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write_kpoints" class="md-nav__link">
    write_kpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read_kpoints" class="md-nav__link">
    read_kpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read_kpoints_line" class="md-nav__link">
    read_kpoints_line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make_kpath" class="md-nav__link">
    make_kpath
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean_latex_string" class="md-nav__link">
    clean_latex_string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_function_from_weight_sets" class="md-nav__link">
    spectral_function_from_weight_sets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_weight_multiple_source" class="md-nav__link">
    spectral_weight_multiple_source
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concatenate_scf_kpoints" class="md-nav__link">
    concatenate_scf_kpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_white_colormap" class="md-nav__link">
    create_white_colormap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_white_colormap_from_existing" class="md-nav__link">
    create_white_colormap_from_existing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_atoms_idx" class="md-nav__link">
    parse_atoms_idx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_projection_options" class="md-nav__link">
    process_projection_options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../wavecar/" class="md-nav__link">
        easyunfold.wavecar
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../theory/" class="md-nav__link">
        Theory
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Examples
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Examples" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Examples
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../example_si222/" class="md-nav__link">
        Si Supercell
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../example_mgo/" class="md-nav__link">
        MgO Projection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../example_nabis2/" class="md-nav__link">
        NaBiS2 SQS Projection
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#unfoldkset" class="md-nav__link">
    UnfoldKSet
  </a>
  
    <nav class="md-nav" aria-label="UnfoldKSet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#is_calculated" class="md-nav__link">
    .is_calculated
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#has_averaged_spectral_weights" class="md-nav__link">
    .has_averaged_spectral_weights
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from_atoms" class="md-nav__link">
    .from_atoms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expand_pc_kpoints" class="md-nav__link">
    .expand_pc_kpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nsymm_orig" class="md-nav__link">
    .nsymm_orig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nsymm_expand" class="md-nav__link">
    .nsymm_expand
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nkpts_orig" class="md-nav__link">
    .nkpts_orig
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nkpts_expand" class="md-nav__link">
    .nkpts_expand
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate_sc_kpoints" class="md-nav__link">
    .generate_sc_kpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write_sc_kpoints" class="md-nav__link">
    .write_sc_kpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write_pc_kpoints" class="md-nav__link">
    .write_pc_kpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load_procar" class="md-nav__link">
    .load_procar
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#procars" class="md-nav__link">
    .procars
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#procar_kmaps" class="md-nav__link">
    .procar_kmaps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_band_weight_sets" class="md-nav__link">
    .get_band_weight_sets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_spectral_function" class="md-nav__link">
    .get_spectral_function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_spectral_weights" class="md-nav__link">
    .get_spectral_weights
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#as_dict" class="md-nav__link">
    .as_dict
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_kpoint_distances" class="md-nav__link">
    .get_kpoint_distances
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#unfold" class="md-nav__link">
    Unfold
  </a>
  
    <nav class="md-nav" aria-label="Unfold">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get_vbm_cbm" class="md-nav__link">
    .get_vbm_cbm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_ovlap_g" class="md-nav__link">
    .get_ovlap_G
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find_k_index" class="md-nav__link">
    .find_K_index
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#k2k_map" class="md-nav__link">
    .k2K_map
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_weight_k" class="md-nav__link">
    .spectral_weight_k
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_weight" class="md-nav__link">
    .spectral_weight
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_function" class="md-nav__link">
    .spectral_function
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#get_symmetry_dataset" class="md-nav__link">
    get_symmetry_dataset
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#find_k_from_k" class="md-nav__link">
    find_K_from_k
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rotate_kpt" class="md-nav__link">
    rotate_kpt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expand_k_by_symmetry" class="md-nav__link">
    expand_K_by_symmetry
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lorentzsmearing" class="md-nav__link">
    LorentzSmearing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gaussiansmearing" class="md-nav__link">
    GaussianSmearing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#removeduplicatekpoints" class="md-nav__link">
    removeDuplicateKpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write_kpoints" class="md-nav__link">
    write_kpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read_kpoints" class="md-nav__link">
    read_kpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read_kpoints_line" class="md-nav__link">
    read_kpoints_line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#make_kpath" class="md-nav__link">
    make_kpath
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean_latex_string" class="md-nav__link">
    clean_latex_string
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_function_from_weight_sets" class="md-nav__link">
    spectral_function_from_weight_sets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spectral_weight_multiple_source" class="md-nav__link">
    spectral_weight_multiple_source
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concatenate_scf_kpoints" class="md-nav__link">
    concatenate_scf_kpoints
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_white_colormap" class="md-nav__link">
    create_white_colormap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create_white_colormap_from_existing" class="md-nav__link">
    create_white_colormap_from_existing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parse_atoms_idx" class="md-nav__link">
    parse_atoms_idx
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process_projection_options" class="md-nav__link">
    process_projection_options
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/SMTG-UCL/easyunfold/edit/master/docs/sources/modules/easyunfold/unfold.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="_1"></h1>
<h2 id="unfoldkset">UnfoldKSet</h2>
<div class="highlight"><pre><span></span><code><span class="n">UnfoldKSet</span><span class="p">(</span>
   <span class="n">M</span><span class="p">,</span> <span class="n">kpts_pc</span><span class="p">,</span> <span class="n">pc_latt</span><span class="p">,</span> <span class="n">pc_opts</span><span class="p">,</span> <span class="n">sc_opts</span><span class="p">,</span> <span class="n">time_reversal</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">expand</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
   <span class="n">metadata</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">expansion_results</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">calculated_quantities</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
   <span class="n">kpoint_labels</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Stores the information of the kpoints in the primitive cell, and what they unfolds to in the supercell</p>
<p><strong>Methods:</strong></p>
<h3 id="is_calculated">.is_calculated</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">is_calculated</span><span class="p">()</span>
</code></pre></div>
<hr />
<p>Show the status of the work</p>
<h3 id="has_averaged_spectral_weights">.has_averaged_spectral_weights</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">has_averaged_spectral_weights</span><span class="p">()</span>
</code></pre></div>
<hr />
<p>Return True if the spectral weights stored is averaged</p>
<h3 id="from_atoms">.from_atoms</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">from_atoms</span><span class="p">(</span>
   <span class="bp">cls</span><span class="p">,</span> <span class="n">M</span><span class="p">,</span> <span class="n">kpts_pc</span><span class="p">,</span> <span class="n">pc</span><span class="p">,</span> <span class="n">sc</span><span class="p">,</span> <span class="n">time_reversal</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">expand</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">symprec</span> <span class="o">=</span> <span class="mf">1e-05</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Initialise from primitive cell and supercell atoms</p>
<h3 id="expand_pc_kpoints">.expand_pc_kpoints</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">expand_pc_kpoints</span><span class="p">()</span>
</code></pre></div>
<hr />
<p>Comptue the pc kpoints to be unfolded into</p>
<h3 id="nsymm_orig">.nsymm_orig</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">nsymm_orig</span><span class="p">()</span>
</code></pre></div>
<hr />
<p>Number of symmetry operation in the original cell</p>
<h3 id="nsymm_expand">.nsymm_expand</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">nsymm_expand</span><span class="p">()</span>
</code></pre></div>
<hr />
<p>Number of symmetry operation in the original cell</p>
<h3 id="nkpts_orig">.nkpts_orig</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">nkpts_orig</span><span class="p">()</span>
</code></pre></div>
<hr />
<p>Total number of unexpanded kpoints</p>
<h3 id="nkpts_expand">.nkpts_expand</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">nkpts_expand</span><span class="p">()</span>
</code></pre></div>
<hr />
<p>Total number of expanded kpoints</p>
<h3 id="generate_sc_kpoints">.generate_sc_kpoints</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">generate_sc_kpoints</span><span class="p">()</span>
</code></pre></div>
<hr />
<p>Generate the supercell kpoints to be calculated</p>
<p><strong>Returns</strong></p>
<p>A flat list of supercell kpoints in fractional coordinates
An indexing nested list to map expanded kpoints set to the supercell kpoints generated</p>
<h3 id="write_sc_kpoints">.write_sc_kpoints</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">write_sc_kpoints</span><span class="p">(</span>
   <span class="n">file</span><span class="p">,</span> <span class="n">nk_per_split</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">scf_kpoints_and_weights</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Write the supercell kpoints</p>
<h3 id="write_pc_kpoints">.write_pc_kpoints</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">write_pc_kpoints</span><span class="p">(</span>
   <span class="n">file</span><span class="p">,</span> <span class="n">expanded</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Write the primitive cell kpoints</p>
<h3 id="load_procar">.load_procar</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">load_procar</span><span class="p">(</span>
   <span class="n">procar</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="n">force</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Read in PROCAR for band-based projection</p>
<h3 id="procars">.procars</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">procars</span><span class="p">()</span>
</code></pre></div>
<hr />
<p>Loaded PROCARS</p>
<h3 id="procar_kmaps">.procar_kmaps</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">procar_kmaps</span><span class="p">()</span>
</code></pre></div>
<hr />
<p>Loaded PROCARS</p>
<h3 id="get_band_weight_sets">.get_band_weight_sets</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">get_band_weight_sets</span><span class="p">(</span>
   <span class="n">atoms_idx</span><span class="p">,</span> <span class="n">orbitals</span><span class="p">,</span> <span class="n">procars</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Get weights array sets for bands
Construct the weights of each band in same format of the kpoint set.
Each item is an numpy array of (nspins, nbands), containing the summed weights over
the passed atom indices and orbitals.</p>
<h3 id="get_spectral_function">.get_spectral_function</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">get_spectral_function</span><span class="p">(</span>
   <span class="n">wavecar</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">npoints</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">,</span> <span class="n">gamma</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ncl</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
   <span class="n">gamma_half</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">symm_average</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">atoms_idx</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">orbitals</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Get the spectral function</p>
<h3 id="get_spectral_weights">.get_spectral_weights</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">get_spectral_weights</span><span class="p">(</span>
   <span class="n">wavecar</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">gamma</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ncl</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">gamma_half</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">symm_average</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Get the spectral function</p>
<h3 id="as_dict">.as_dict</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">as_dict</span><span class="p">()</span>
</code></pre></div>
<hr />
<p>To a dictionary representation</p>
<h3 id="get_kpoint_distances">.get_kpoint_distances</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">get_kpoint_distances</span><span class="p">()</span>
</code></pre></div>
<hr />
<p>Distances between the kpoints along the path in the reciprocal space.
This does not take account of the breaking of the path.
NOTE: the reciprocal lattice vectors includes the 2pi factor, e.g. np.linalg.inv(L).T * 2 * np.pi</p>
<hr />
<h2 id="unfold">Unfold</h2>
<div class="highlight"><pre><span></span><code><span class="n">Unfold</span><span class="p">(</span>
   <span class="n">M</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">wavecar</span> <span class="o">=</span> <span class="s1">&#39;WAVECAR&#39;</span><span class="p">,</span> <span class="n">gamma</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">lsorbit</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">gamma_half</span> <span class="o">=</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span>
   <span class="n">verbose</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Low lever interface for performing unfolding related calculations.
obtain the effective band structure (EBS).</p>
<p>REF:
"Extracting E versus k effective band structure from supercell
 calculations on alloys and impurities"
Phys. Rev. B 85, 085201 (2012)</p>
<p><strong>Methods:</strong></p>
<h3 id="get_vbm_cbm">.get_vbm_cbm</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">get_vbm_cbm</span><span class="p">(</span>
   <span class="n">thresh</span> <span class="o">=</span> <span class="mf">1e-08</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Locate the VBM from the WAVECAR</p>
<h3 id="get_ovlap_g">.get_ovlap_G</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">get_ovlap_G</span><span class="p">(</span>
   <span class="n">ikpt</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">epsilon</span> <span class="o">=</span> <span class="mf">1e-05</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Get subset of the reciprocal space vectors of the supercell,
specifically the ones that match the reciprocal space vectors of the
primitive cell.</p>
<h3 id="find_k_index">.find_K_index</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">find_K_index</span><span class="p">(</span>
   <span class="n">K0</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Find the index of K0.</p>
<h3 id="k2k_map">.k2K_map</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">k2K_map</span><span class="p">(</span>
   <span class="n">kpath</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Find the map from primitive-cell k-points to supercell k-points.</p>
<h3 id="spectral_weight_k">.spectral_weight_k</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">spectral_weight_k</span><span class="p">(</span>
   <span class="n">k0</span><span class="p">,</span> <span class="n">whichspin</span> <span class="o">=</span> <span class="mi">1</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Spectral weight for a given k:</p>
<p>P_{Km}(k) = \sum_n |<Km | kn>|^2</p>
<hr />
<p>which is equivalent to</p>
<pre><code>P_{Km}(k) = \sum_{G} |C_{Km}(G + k - K)|^2
</code></pre>
<p>where {G} is a subset of the reciprocal space vectors of the supercell.</p>
<h3 id="spectral_weight">.spectral_weight</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">spectral_weight</span><span class="p">(</span>
   <span class="n">kpoints</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Calculate the spectral weight for a list of kpoints in the primitive BZ.</p>
<h3 id="spectral_function">.spectral_function</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">spectral_function</span><span class="p">(</span>
   <span class="n">nedos</span> <span class="o">=</span> <span class="mi">4000</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Generate the spectral function</p>
<p>A(k_i, E) = \sum_m P_{Km}(k_i)\Delta(E - Em)</p>
<hr />
<p>Where the \Delta function can be approximated by Lorentzian or Gaussian
function.</p>
<hr />
<h3 id="get_symmetry_dataset">get_symmetry_dataset</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">get_symmetry_dataset</span><span class="p">(</span>
   <span class="n">atoms</span><span class="p">,</span> <span class="n">symprec</span> <span class="o">=</span> <span class="mf">1e-05</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Get the symmetry dataset using spglib</p>
<hr />
<h3 id="find_k_from_k">find_K_from_k</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">find_K_from_k</span><span class="p">(</span>
   <span class="n">k</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">M</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Get the K vector of the supercell onto which the k vector of the primitive
cell folds. The unfolding vector G, which satisfy the following equation,
is also returned.</p>
<p>k = K + G</p>
<hr />
<p>where G is a reciprocal space vector of supercell</p>
<hr />
<h3 id="rotate_kpt">rotate_kpt</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">rotate_kpt</span><span class="p">(</span>
   <span class="n">k</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">opt</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Apply rotation to a kpoint based on the rotations of the crystals (in the real space)</p>
<p>NOTE: The rotation matrix should be the one that act on fractional coordinates, e.g. from spglib.</p>
<hr />
<h3 id="expand_k_by_symmetry">expand_K_by_symmetry</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">expand_K_by_symmetry</span><span class="p">(</span>
   <span class="n">kpt</span><span class="p">,</span> <span class="n">opts_pc</span><span class="p">,</span> <span class="n">opts_sc</span><span class="p">,</span> <span class="n">time_reversal</span> <span class="o">=</span> <span class="kc">True</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Expend the sampling of the PC kpoints due to symmetry breaking of the SC</p>
<hr />
<h3 id="lorentzsmearing">LorentzSmearing</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">LorentzSmearing</span><span class="p">(</span>
   <span class="n">x</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Simulate the Delta function by a Lorentzian shape function</p>
<p>\Delta(x) = \lim_{\sigma\to 0}  Lorentzian</p>
<hr />
<h3 id="gaussiansmearing">GaussianSmearing</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">GaussianSmearing</span><span class="p">(</span>
   <span class="n">x</span><span class="p">,</span> <span class="n">x0</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.02</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Simulate the Delta function by a Lorentzian shape function</p>
<p>\Delta(x) = \lim_{\sigma\to 0} Gaussian</p>
<hr />
<h3 id="removeduplicatekpoints">removeDuplicateKpoints</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">removeDuplicateKpoints</span><span class="p">(</span>
   <span class="n">kpoints</span><span class="p">,</span> <span class="n">return_map</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">decimals</span> <span class="o">=</span> <span class="mi">6</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>remove duplicate kpoints in the list.</p>
<hr />
<h3 id="write_kpoints">write_kpoints</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">write_kpoints</span><span class="p">(</span>
   <span class="n">kpoints</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="nb">list</span><span class="p">],</span> <span class="n">outpath</span> <span class="o">=</span> <span class="s1">&#39;KPOINTS&#39;</span><span class="p">,</span> <span class="n">comment</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">weights</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>save to VASP KPOINTS file</p>
<hr />
<h3 id="read_kpoints">read_kpoints</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">read_kpoints</span><span class="p">(</span>
   <span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;KPOINTS&#39;</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Read kpoints from a KPOINTS file containing reciprocal space coordinates (fractional)</p>
<p>Returns the kpoints, the comment and the labels at each kpoint</p>
<hr />
<h3 id="read_kpoints_line">read_kpoints_line</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">read_kpoints_line</span><span class="p">(</span>
   <span class="n">content</span><span class="p">,</span> <span class="n">density</span> <span class="o">=</span> <span class="mi">20</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Read kpoints in the line mode</p>
<p>Resolve to explicit kpoints</p>
<hr />
<h3 id="make_kpath">make_kpath</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">make_kpath</span><span class="p">(</span>
   <span class="n">kbound</span><span class="p">,</span> <span class="n">nseg</span> <span class="o">=</span> <span class="mi">40</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Return a list of kpoints defining the path between the given kpoints.</p>
<hr />
<h3 id="clean_latex_string">clean_latex_string</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">clean_latex_string</span><span class="p">(</span>
   <span class="n">label</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Clean up latex labels and convert if necessary</p>
<hr />
<h3 id="spectral_function_from_weight_sets">spectral_function_from_weight_sets</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">spectral_function_from_weight_sets</span><span class="p">(</span>
   <span class="n">spectral_weight_sets</span><span class="p">,</span> <span class="n">kweight_sets</span><span class="p">,</span> <span class="n">nedos</span> <span class="o">=</span> <span class="mi">4000</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="mf">0.02</span><span class="p">,</span> <span class="n">emin</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
   <span class="n">emax</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">band_weight_sets</span> <span class="o">=</span> <span class="kc">None</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Generate the spectral function</p>
<p>A(k_i, E) = \sum_m P_{Km}(k_i)\Delta(E - Em)</p>
<hr />
<p>Where the \Delta function can be approximated by Lorentzian or Gaussian
function.</p>
<p><strong>Args</strong></p>
<ul>
<li><strong>band_weight_sets</strong> (np.ndarray) : Additional weighting for each band, used for generating
  projection onto atomic orbitals.</li>
</ul>
<hr />
<h3 id="spectral_weight_multiple_source">spectral_weight_multiple_source</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">spectral_weight_multiple_source</span><span class="p">(</span>
   <span class="n">kpoints</span><span class="p">,</span> <span class="n">unfold_objs</span><span class="p">,</span> <span class="n">transform_matrix</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Calculate the spectral weight for a list of kpoints in the primitive BZ
from a list of WAVECARs.</p>
<hr />
<h3 id="concatenate_scf_kpoints">concatenate_scf_kpoints</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">concatenate_scf_kpoints</span><span class="p">(</span>
   <span class="n">scf_kpts</span><span class="p">,</span> <span class="n">scf_weights</span><span class="p">,</span> <span class="n">kpoints</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Concatenate SCF kpoints (from IBZKPT) with zero-weighted kpoints</p>
<hr />
<h3 id="create_white_colormap">create_white_colormap</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">create_white_colormap</span><span class="p">(</span>
   <span class="n">color</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="nb">list</span><span class="p">]</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Create colormap from white to certain colour.</p>
<p><strong>Args</strong></p>
<ul>
<li><strong>color</strong> (str, tuple, list) : HEX color string or tuple/list of RGB color.</li>
</ul>
<hr />
<h3 id="create_white_colormap_from_existing">create_white_colormap_from_existing</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">create_white_colormap_from_existing</span><span class="p">(</span>
   <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Create a white-based color map from an existing one.</p>
<hr />
<h3 id="parse_atoms_idx">parse_atoms_idx</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">parse_atoms_idx</span><span class="p">(</span>
   <span class="n">atoms_idx</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Expanding syntex like <code>1-2</code> (inclusive)</p>
<p>For example, <code>1,2,3,4-6</code> will be expanded as <code>1,2,3,4,5,6</code>.</p>
<hr />
<h3 id="process_projection_options">process_projection_options</h3>
<div class="highlight"><pre><span></span><code><span class="o">.</span><span class="n">process_projection_options</span><span class="p">(</span>
   <span class="n">atoms_idx</span><span class="p">,</span> <span class="n">orbitals</span>
<span class="p">)</span>
</code></pre></div>
<hr />
<p>Process commandline type specifications</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../procar/" class="md-footer__link md-footer__link--prev" aria-label="Previous: easyunfold.procar" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              easyunfold.procar
            </div>
          </div>
        </a>
      
      
        
        <a href="../wavecar/" class="md-footer__link md-footer__link--next" aria-label="Next: easyunfold.wavecar" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              easyunfold.wavecar
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.3a4b43e5.min.js"></script>
      
        <script src="../../../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>